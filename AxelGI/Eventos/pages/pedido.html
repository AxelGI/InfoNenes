<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Registro de Pedido</title>
    <link rel="stylesheet" href="styles/style.css" />
    <link rel="stylesheet" href="styles/pedidos.css" />
  </head>
  <body>
    <header>
      <h1>üìù Hacer Pedido</h1>
      <nav>
        <a href="index.html">Inicio</a>
        <a href="pedido.html" class="active">Hacer Pedido</a>
        <a href="clientes.html">Ver Clientes</a>
      </nav>
    </header>

    <main>
      <form id="pedidoForm">
        <label>Producto:</label>
        <select id="producto">
          <option>Elote Tradicional</option>
          <option>Esquite con Queso</option>
          <option>Elote con Doritos</option>
          <option>Agua de Jamaica</option>
        </select>

        <label>Nombre completo:</label>
        <input type="text" id="nombre" required />

        <label>Email:</label>
        <input type="email" id="email" required />

        <label>Tel√©fono:</label>
        <input type="tel" id="telefono" />

        <label>Direcci√≥n:</label>
        <input type="text" id="direccion" required />

        <label>Extras:</label>
        <div class="extras">
          <label><input type="checkbox" value="Queso" /> Queso</label>
          <label><input type="checkbox" value="Crema" /> Crema</label>
          <label><input type="checkbox" value="Chile" /> Chile</label>
        </div>

        <label>Bebida:</label>
        <select id="bebida">
          <option>Ninguna</option>
          <option>Agua de Horchata</option>
          <option>Agua de Jamaica</option>
        </select>

        <button type="submit">Confirmar Pedido</button>
        <button type="reset">Cancelar</button>
        <a href="clientes.html">Ver clientes y pedidos</a>
      </form>
    </main>

    <script>
      document
        .getElementById("pedidoForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const producto = document.getElementById("producto").value;
          const nombre = document.getElementById("nombre").value;
          const email = document.getElementById("email").value;
          const telefono = document.getElementById("telefono").value;
          const direccion = document.getElementById("direccion").value;
          const bebida = document.getElementById("bebida").value;

          const extras = [];
          document
            .querySelectorAll(".extras input:checked")
            .forEach((el) => extras.push(el.value));

          const pedido = {
            producto,
            nombre,
            email,
            telefono,
            direccion,
            bebida,
            extras,
            fecha: new Date().toLocaleString(),
          };

          // Guardar en localStorage
          let pedidos = JSON.parse(localStorage.getItem("pedidos")) || [];
          pedidos.push(pedido);
          localStorage.setItem("pedidos", JSON.stringify(pedidos));

          alert("‚úÖ Pedido registrado con √©xito");
          document.getElementById("pedidoForm").reset();
        });
    </script>
  </body>
</html>
